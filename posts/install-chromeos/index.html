<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Chrome OS 安装思路（旧） | 枳林</title><meta name=keywords content="Chrome OS,PC"><meta name=description content="17/10/2020 更新：此方法现在看来已经过时，且无法解决TPM2设备镜像导致的种种问题，不再建议使用，仅供技术参考和交流学习。
Chrome OS并不提供普通PC可安装的镜像，可是大多数Chromium OS无法满足大家的需求，所以我们可以挑战一个新思路：通过官方的Chrome OS恢复镜像，将其安装到PC上。 说在前头，这个方法仅适用于支持UEFI启动方式的电脑，如果你的电脑只支持传统的Legacy，那就可以关掉这篇文章了。
0. 所需材料 一个至少8G的U盘，并备份好其中的数据，我们会清除这上面的所有数据 一台电脑，并备份好硬盘里的数据，我们会清除硬盘里所有的数据 FydeOS系统镜像。注意，请不要使用普通Chromium OS的镜像（如cloudready，Arnoldthebat版本……），因为这些版本中缺少sgdisk这个工具 一个与你电脑配置接近的Chrome设备的恢复镜像，下载地址：https://cros-updates-serving.appspot.com/ （需翻墙），如果你不方便翻墙，你也可以去这个文件里寻找下载链接。不论是在前一个地址还是后一个文件里获得的下载链接均无需翻墙便可以下载，下载后解压缩得到的.bin文件就是我们要的 1. 准备工作 将FydeOS的镜像写入U盘，推荐使用Etcher，当然，Rufus，win32diskimager也行 重启电脑，从刚写入好的U盘开机，并创建一个用户，进入到系统桌面 在文件管理器中把以.bin结尾的Chrome OS镜像复制到下载内容目录，并重命名为chromeos.bin，如果在复制过程中出现死机等情况，可以直接在FydeOS中下载zip文件并解压，然后再重命名 2. 写入硬盘 打开浏览器页面，再按Ctrl+Alt+T，这时Crosh Shell页面便会出现，此刻显示的应该是 crosh> 我们先输入命令：shell，然后回车，便进入了Bash Shell chronos@localhost / $ 这时我们输入命令：cd ~/Downloads，进入下载内容目录 chronos@localhost ~/Downloads $ 接下来我们输入：sudo su，切换到root用户，终端显示如下 We trust you have received the usual lecture from the local System Administrator. It usually boils down to these three things: #1) Respect the privacy of others. #2) Think before you type. #3) With great power comes great responsibility."><meta name=author content><link rel=canonical href=http://picozai.tk/posts/install-chromeos/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://picozai.tk/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://picozai.tk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://picozai.tk/favicon-32x32.png><link rel=apple-touch-icon href=http://picozai.tk/apple-touch-icon.png><link rel=mask-icon href=http://picozai.tk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async defer data-website-id=6ecb16bf-376d-452e-8042-b7c2958cc5e9 src=https://umami.picozai.tk/umami.js></script><meta property="og:title" content="Chrome OS 安装思路（旧）"><meta property="og:description" content="17/10/2020 更新：此方法现在看来已经过时，且无法解决TPM2设备镜像导致的种种问题，不再建议使用，仅供技术参考和交流学习。
Chrome OS并不提供普通PC可安装的镜像，可是大多数Chromium OS无法满足大家的需求，所以我们可以挑战一个新思路：通过官方的Chrome OS恢复镜像，将其安装到PC上。 说在前头，这个方法仅适用于支持UEFI启动方式的电脑，如果你的电脑只支持传统的Legacy，那就可以关掉这篇文章了。
0. 所需材料 一个至少8G的U盘，并备份好其中的数据，我们会清除这上面的所有数据 一台电脑，并备份好硬盘里的数据，我们会清除硬盘里所有的数据 FydeOS系统镜像。注意，请不要使用普通Chromium OS的镜像（如cloudready，Arnoldthebat版本……），因为这些版本中缺少sgdisk这个工具 一个与你电脑配置接近的Chrome设备的恢复镜像，下载地址：https://cros-updates-serving.appspot.com/ （需翻墙），如果你不方便翻墙，你也可以去这个文件里寻找下载链接。不论是在前一个地址还是后一个文件里获得的下载链接均无需翻墙便可以下载，下载后解压缩得到的.bin文件就是我们要的 1. 准备工作 将FydeOS的镜像写入U盘，推荐使用Etcher，当然，Rufus，win32diskimager也行 重启电脑，从刚写入好的U盘开机，并创建一个用户，进入到系统桌面 在文件管理器中把以.bin结尾的Chrome OS镜像复制到下载内容目录，并重命名为chromeos.bin，如果在复制过程中出现死机等情况，可以直接在FydeOS中下载zip文件并解压，然后再重命名 2. 写入硬盘 打开浏览器页面，再按Ctrl+Alt+T，这时Crosh Shell页面便会出现，此刻显示的应该是 crosh> 我们先输入命令：shell，然后回车，便进入了Bash Shell chronos@localhost / $ 这时我们输入命令：cd ~/Downloads，进入下载内容目录 chronos@localhost ~/Downloads $ 接下来我们输入：sudo su，切换到root用户，终端显示如下 We trust you have received the usual lecture from the local System Administrator. It usually boils down to these three things: #1) Respect the privacy of others. #2) Think before you type. #3) With great power comes great responsibility."><meta property="og:type" content="article"><meta property="og:url" content="http://picozai.tk/posts/install-chromeos/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-11-10T00:00:00+00:00"><meta property="article:modified_time" content="2018-11-10T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Chrome OS 安装思路（旧）"><meta name=twitter:description content="17/10/2020 更新：此方法现在看来已经过时，且无法解决TPM2设备镜像导致的种种问题，不再建议使用，仅供技术参考和交流学习。
Chrome OS并不提供普通PC可安装的镜像，可是大多数Chromium OS无法满足大家的需求，所以我们可以挑战一个新思路：通过官方的Chrome OS恢复镜像，将其安装到PC上。 说在前头，这个方法仅适用于支持UEFI启动方式的电脑，如果你的电脑只支持传统的Legacy，那就可以关掉这篇文章了。
0. 所需材料 一个至少8G的U盘，并备份好其中的数据，我们会清除这上面的所有数据 一台电脑，并备份好硬盘里的数据，我们会清除硬盘里所有的数据 FydeOS系统镜像。注意，请不要使用普通Chromium OS的镜像（如cloudready，Arnoldthebat版本……），因为这些版本中缺少sgdisk这个工具 一个与你电脑配置接近的Chrome设备的恢复镜像，下载地址：https://cros-updates-serving.appspot.com/ （需翻墙），如果你不方便翻墙，你也可以去这个文件里寻找下载链接。不论是在前一个地址还是后一个文件里获得的下载链接均无需翻墙便可以下载，下载后解压缩得到的.bin文件就是我们要的 1. 准备工作 将FydeOS的镜像写入U盘，推荐使用Etcher，当然，Rufus，win32diskimager也行 重启电脑，从刚写入好的U盘开机，并创建一个用户，进入到系统桌面 在文件管理器中把以.bin结尾的Chrome OS镜像复制到下载内容目录，并重命名为chromeos.bin，如果在复制过程中出现死机等情况，可以直接在FydeOS中下载zip文件并解压，然后再重命名 2. 写入硬盘 打开浏览器页面，再按Ctrl+Alt+T，这时Crosh Shell页面便会出现，此刻显示的应该是 crosh> 我们先输入命令：shell，然后回车，便进入了Bash Shell chronos@localhost / $ 这时我们输入命令：cd ~/Downloads，进入下载内容目录 chronos@localhost ~/Downloads $ 接下来我们输入：sudo su，切换到root用户，终端显示如下 We trust you have received the usual lecture from the local System Administrator. It usually boils down to these three things: #1) Respect the privacy of others. #2) Think before you type. #3) With great power comes great responsibility."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"http://picozai.tk/posts/"},{"@type":"ListItem","position":3,"name":"Chrome OS 安装思路（旧）","item":"http://picozai.tk/posts/install-chromeos/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Chrome OS 安装思路（旧）","name":"Chrome OS 安装思路（旧）","description":"17/10/2020 更新：此方法现在看来已经过时，且无法解决TPM2设备镜像导致的种种问题，不再建议使用，仅供技术参考和交流学习。\nChrome OS并不提供普通PC可安装的镜像，可是大多数Chromium OS无法满足大家的需求，所以我们可以挑战一个新思路：通过官方的Chrome OS恢复镜像，将其安装到PC上。 说在前头，这个方法仅适用于支持UEFI启动方式的电脑，如果你的电脑只支持传统的Legacy，那就可以关掉这篇文章了。\n0. 所需材料 一个至少8G的U盘，并备份好其中的数据，我们会清除这上面的所有数据 一台电脑，并备份好硬盘里的数据，我们会清除硬盘里所有的数据 FydeOS系统镜像。注意，请不要使用普通Chromium OS的镜像（如cloudready，Arnoldthebat版本……），因为这些版本中缺少sgdisk这个工具 一个与你电脑配置接近的Chrome设备的恢复镜像，下载地址：https://cros-updates-serving.appspot.com/ （需翻墙），如果你不方便翻墙，你也可以去这个文件里寻找下载链接。不论是在前一个地址还是后一个文件里获得的下载链接均无需翻墙便可以下载，下载后解压缩得到的.bin文件就是我们要的 1. 准备工作 将FydeOS的镜像写入U盘，推荐使用Etcher，当然，Rufus，win32diskimager也行 重启电脑，从刚写入好的U盘开机，并创建一个用户，进入到系统桌面 在文件管理器中把以.bin结尾的Chrome OS镜像复制到下载内容目录，并重命名为chromeos.bin，如果在复制过程中出现死机等情况，可以直接在FydeOS中下载zip文件并解压，然后再重命名 2. 写入硬盘 打开浏览器页面，再按Ctrl+Alt+T，这时Crosh Shell页面便会出现，此刻显示的应该是 crosh\u0026gt; 我们先输入命令：shell，然后回车，便进入了Bash Shell chronos@localhost / $ 这时我们输入命令：cd ~/Downloads，进入下载内容目录 chronos@localhost ~/Downloads $ 接下来我们输入：sudo su，切换到root用户，终端显示如下 We trust you have received the usual lecture from the local System Administrator. It usually boils down to these three things: #1) Respect the privacy of others. #2) Think before you type. #3) With great power comes great responsibility.","keywords":["Chrome OS","PC"],"articleBody":"17/10/2020 更新：此方法现在看来已经过时，且无法解决TPM2设备镜像导致的种种问题，不再建议使用，仅供技术参考和交流学习。\nChrome OS并不提供普通PC可安装的镜像，可是大多数Chromium OS无法满足大家的需求，所以我们可以挑战一个新思路：通过官方的Chrome OS恢复镜像，将其安装到PC上。 说在前头，这个方法仅适用于支持UEFI启动方式的电脑，如果你的电脑只支持传统的Legacy，那就可以关掉这篇文章了。\n0. 所需材料 一个至少8G的U盘，并备份好其中的数据，我们会清除这上面的所有数据 一台电脑，并备份好硬盘里的数据，我们会清除硬盘里所有的数据 FydeOS系统镜像。注意，请不要使用普通Chromium OS的镜像（如cloudready，Arnoldthebat版本……），因为这些版本中缺少sgdisk这个工具 一个与你电脑配置接近的Chrome设备的恢复镜像，下载地址：https://cros-updates-serving.appspot.com/ （需翻墙），如果你不方便翻墙，你也可以去这个文件里寻找下载链接。不论是在前一个地址还是后一个文件里获得的下载链接均无需翻墙便可以下载，下载后解压缩得到的.bin文件就是我们要的 1. 准备工作 将FydeOS的镜像写入U盘，推荐使用Etcher，当然，Rufus，win32diskimager也行 重启电脑，从刚写入好的U盘开机，并创建一个用户，进入到系统桌面 在文件管理器中把以.bin结尾的Chrome OS镜像复制到下载内容目录，并重命名为chromeos.bin，如果在复制过程中出现死机等情况，可以直接在FydeOS中下载zip文件并解压，然后再重命名 2. 写入硬盘 打开浏览器页面，再按Ctrl+Alt+T，这时Crosh Shell页面便会出现，此刻显示的应该是 crosh\u003e 我们先输入命令：shell，然后回车，便进入了Bash Shell chronos@localhost / $ 这时我们输入命令：cd ~/Downloads，进入下载内容目录 chronos@localhost ~/Downloads $ 接下来我们输入：sudo su，切换到root用户，终端显示如下 We trust you have received the usual lecture from the local System Administrator. It usually boils down to these three things: #1) Respect the privacy of others. #2) Think before you type. #3) With great power comes great responsibility. Password: 这时候输入chronos，密码不会显示出来，光标也不会动，输完回车即可，终端会变成这样 localhost Downloads # 输入fdisk -l，查询一下你所要安装到哪块硬盘，通常，你电脑里的硬盘会以sdx的形式显示，当然也可能是mmcblk0或者nvme0。根据提示的磁盘空间大小和已分区的数量，判断你要安装到的那块硬盘，比如sda。以下以sda为例，以下所有命令中的/dev/sda都要替换成你要安装的那块硬盘，接下来将Chrome OS镜像写入硬盘，就像这样 dd if=chromeos.bin of=/dev/sda iflag=fullblock oflag=sync status=progress bs=4M 然后，等待写入完成，进入下一个阶段。\n3. 一些必要更改 3.1 扩大并格式化用户数据分区 如果你需要将硬盘中全部空间都分配给Chrome OS，请按照步骤来，如果不打算如此，并且你比较熟悉Linux操作，则可跳过前两步。\n现在，我们输入 partx -s -b -g -o start /dev/sda1 再输入 lsblk -b -d -n -o size /dev/sda 找一个计算器，将lsblk -b -d -n -o size /dev/sda得到的结果除以512，再减去partx -s -b -g -o start /dev/sda1得到的结果，最后减去33， 接下来，我们输入 sgdisk -e /dev/sda 然后输入cgpt add -i 1 -s 计算器算出来的数值 /dev/sda，以此扩大用户数据分区(如果你比较熟悉Linux操作，也可以自行修改该分区的大小，但至少要4G)，就像这样， cgpt add -i 1 -s 112815887 /dev/sda 接着，终止cros-disks服务， initctl stop cros-disks 格式化用户数据分区， mkfs.ext4 -F /dev/sda1 3.2 更改启动选项 挂载EFI分区 mount /dev/sda12 /mnt 更改默认启动项为local image A sed -e 's/defaultA=2/defaultA=0/' -i /mnt/efi/boot/grub.cfg 开启开发者模式（如果不开启此选项，则无法安装第三方来源的安卓应用和使用Crosh Shell） sed -e 's/cros_efi/cros_efi cros_debug/' -i /mnt/efi/boot/grub.cfg 4. 大功告成 这时候便可以重启并拔掉U盘，如无意外，就可以享用你的Chrome OS啦！ 如果出现Your system is repairing itself. Please wait字样也不用慌张，稍等五分钟它会自动重启，这下就同样可以享用你的Chrome OS啦。\n5.其他方案 如果这篇教程无法很好地适用于你的电脑，你可以试试外国网友的Project Croissant。\n","wordCount":"191","inLanguage":"zh","datePublished":"2018-11-10T00:00:00Z","dateModified":"2018-11-10T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"http://picozai.tk/posts/install-chromeos/"},"publisher":{"@type":"Organization","name":"枳林","logo":{"@type":"ImageObject","url":"http://picozai.tk/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://picozai.tk accesskey=h title="枳林 (Alt + H)">枳林</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://picozai.tk/about/ title=关于><span>关于</span></a></li><li><a href=http://picozai.tk/aya/ title=あや><span>あや</span></a></li><li><a href=https://pikt.notion.site/527c87ef88694ffb919fd785048d12bf title=时语><span>时语</span></a></li><li><a href=https://pikt.notion.site/ee53750c5dc14b44aaafafbef9f6fad5 title=乡音><span>乡音</span></a></li><li><a href=http://picozai.tk/search/ title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Chrome OS 安装思路（旧）</h1><div class=post-meta><span title='2018-11-10 00:00:00 +0000 UTC'>十一月 10, 2018</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#0-%e6%89%80%e9%9c%80%e6%9d%90%e6%96%99 aria-label="0. 所需材料">0. 所需材料</a></li><li><a href=#1-%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c aria-label="1. 准备工作">1. 准备工作</a></li><li><a href=#2-%e5%86%99%e5%85%a5%e7%a1%ac%e7%9b%98 aria-label="2. 写入硬盘">2. 写入硬盘</a></li><li><a href=#3-%e4%b8%80%e4%ba%9b%e5%bf%85%e8%a6%81%e6%9b%b4%e6%94%b9 aria-label="3. 一些必要更改">3. 一些必要更改</a><ul><li><a href=#31-%e6%89%a9%e5%a4%a7%e5%b9%b6%e6%a0%bc%e5%bc%8f%e5%8c%96%e7%94%a8%e6%88%b7%e6%95%b0%e6%8d%ae%e5%88%86%e5%8c%ba aria-label="3.1 扩大并格式化用户数据分区">3.1 扩大并格式化用户数据分区</a></li><li><a href=#32-%e6%9b%b4%e6%94%b9%e5%90%af%e5%8a%a8%e9%80%89%e9%a1%b9 aria-label="3.2 更改启动选项">3.2 更改启动选项</a></li></ul></li><li><a href=#4-%e5%a4%a7%e5%8a%9f%e5%91%8a%e6%88%90 aria-label="4. 大功告成">4. 大功告成</a></li><li><a href=#5%e5%85%b6%e4%bb%96%e6%96%b9%e6%a1%88 aria-label=5.其他方案>5.其他方案</a></li></ul></div></details></div><div class=post-content><p><em><strong>17/10/2020 更新：此方法现在看来已经过时，且无法解决TPM2设备镜像导致的种种问题，不再建议使用，仅供技术参考和交流学习。</strong></em></p><hr><p>Chrome OS并不提供普通PC可安装的镜像，可是大多数Chromium OS无法满足大家的需求，所以我们可以挑战一个新思路：通过官方的Chrome OS恢复镜像，将其安装到PC上。 <strong>说在前头，这个方法仅适用于支持UEFI启动方式的电脑，如果你的电脑只支持传统的Legacy，那就可以关掉这篇文章了。</strong></p><hr><h2 id=0-所需材料>0. 所需材料<a hidden class=anchor aria-hidden=true href=#0-所需材料>#</a></h2><ul><li>一个至少8G的U盘，并<strong>备份好其中的数据</strong>，我们会<strong>清除这上面的所有数据</strong></li><li>一台电脑，并<strong>备份好硬盘里的数据</strong>，我们会<strong>清除硬盘里所有的数据</strong></li><li>FydeOS系统镜像。注意，<em><strong>请不要使用普通Chromium OS的镜像</strong></em>（如cloudready，Arnoldthebat版本……），因为这些版本中缺少<code>sgdisk</code>这个工具</li><li>一个与你电脑配置接近的Chrome设备的恢复镜像，下载地址：<a href=https://cros-updates-serving.appspot.com/>https://cros-updates-serving.appspot.com/</a> （需翻墙），如果你不方便翻墙，你也可以去<a href=https://dl.google.com/chromeos/recovery/recovery.conf>这个文件</a>里寻找下载链接。不论是在前一个地址还是后一个文件里获得的下载链接均无需翻墙便可以下载，下载后解压缩得到的<code>.bin</code>文件就是我们要的</li></ul><h2 id=1-准备工作>1. 准备工作<a hidden class=anchor aria-hidden=true href=#1-准备工作>#</a></h2><ul><li>将FydeOS的镜像写入U盘，推荐使用Etcher，当然，Rufus，win32diskimager也行</li><li>重启电脑，从刚写入好的U盘开机，并创建一个用户，进入到系统桌面</li><li>在文件管理器中把以<code>.bin</code>结尾的Chrome OS镜像复制到下载内容目录，并重命名为<code>chromeos.bin</code>，如果在复制过程中出现死机等情况，可以直接在FydeOS中下载zip文件并解压，然后再重命名</li></ul><h2 id=2-写入硬盘>2. 写入硬盘<a hidden class=anchor aria-hidden=true href=#2-写入硬盘>#</a></h2><ul><li>打开浏览器页面，再按<code>Ctrl+Alt+T</code>，这时Crosh Shell页面便会出现，此刻显示的应该是</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>   crosh&gt;
</span></span></code></pre></div><ul><li>我们先输入命令：<code>shell</code>，然后回车，便进入了Bash Shell</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    chronos@localhost / $
</span></span></code></pre></div><ul><li>这时我们输入命令：<code>cd ~/Downloads</code>，进入下载内容目录</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    chronos@localhost ~/Downloads $
</span></span></code></pre></div><ul><li>接下来我们输入：<code>sudo su</code>，切换到root用户，终端显示如下</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    We trust you have received the usual lecture from the local System
</span></span><span style=display:flex><span>    Administrator. It usually boils down to these three things:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>#1) Respect the privacy of others.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>#2) Think before you type.</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>#3) With great power comes great responsibility.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Password:
</span></span></code></pre></div><ul><li>这时候输入<code>chronos</code>，密码不会显示出来，光标也不会动，输完回车即可，终端会变成这样</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    localhost Downloads <span style=color:#75715e>#</span>
</span></span></code></pre></div><ul><li>输入<code>fdisk -l</code>，查询一下你所要安装到哪块硬盘，通常，你电脑里的硬盘会以<code>sdx</code>的形式显示，当然也可能是<code>mmcblk0</code>或者<code>nvme0</code>。根据提示的磁盘空间大小和已分区的数量，判断你要安装到的那块硬盘，比如<code>sda</code>。以下以<code>sda</code>为例，<strong>以下所有命令中的<code>/dev/sda</code>都要替换成你要安装的那块硬盘</strong>，接下来将Chrome OS镜像写入硬盘，就像这样</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    dd <span style=color:#66d9ef>if</span><span style=color:#f92672>=</span>chromeos.bin of<span style=color:#f92672>=</span>/dev/sda iflag<span style=color:#f92672>=</span>fullblock oflag<span style=color:#f92672>=</span>sync status<span style=color:#f92672>=</span>progress bs<span style=color:#f92672>=</span>4M
</span></span></code></pre></div><p>然后，等待写入完成，进入下一个阶段。</p><h2 id=3-一些必要更改>3. 一些必要更改<a hidden class=anchor aria-hidden=true href=#3-一些必要更改>#</a></h2><h3 id=31-扩大并格式化用户数据分区>3.1 扩大并格式化用户数据分区<a hidden class=anchor aria-hidden=true href=#31-扩大并格式化用户数据分区>#</a></h3><p>如果你需要将硬盘中全部空间都分配给Chrome OS，请按照步骤来，如果不打算如此，并且你比较熟悉Linux操作，则可跳过前两步。</p><ul><li>现在，我们输入</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    partx -s -b -g -o start /dev/sda1
</span></span></code></pre></div><ul><li>再输入</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    lsblk -b -d -n -o size /dev/sda
</span></span></code></pre></div><ul><li>找一个计算器，将<code>lsblk -b -d -n -o size /dev/sda</code>得到的结果除以512，再减去<code>partx -s -b -g -o start /dev/sda1</code>得到的结果，最后减去33，</li><li>接下来，我们输入</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    sgdisk -e /dev/sda
</span></span></code></pre></div><ul><li>然后输入<code>cgpt add -i 1 -s 计算器算出来的数值 /dev/sda</code>，以此扩大用户数据分区(如果你比较熟悉Linux操作，也可以自行修改该分区的大小，但至少要4G)，就像这样，</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    cgpt add -i <span style=color:#ae81ff>1</span> -s <span style=color:#ae81ff>112815887</span> /dev/sda
</span></span></code></pre></div><ul><li>接着，终止<code>cros-disks</code>服务，</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    initctl stop cros-disks
</span></span></code></pre></div><ul><li>格式化用户数据分区，</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    mkfs.ext4 -F /dev/sda1
</span></span></code></pre></div><h3 id=32-更改启动选项>3.2 更改启动选项<a hidden class=anchor aria-hidden=true href=#32-更改启动选项>#</a></h3><ul><li>挂载<code>EFI</code>分区</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    mount /dev/sda12 /mnt
</span></span></code></pre></div><ul><li>更改默认启动项为<code>local image A</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    sed -e <span style=color:#e6db74>&#39;s/defaultA=2/defaultA=0/&#39;</span> -i /mnt/efi/boot/grub.cfg
</span></span></code></pre></div><ul><li>开启开发者模式（如果不开启此选项，则无法安装第三方来源的安卓应用和使用Crosh Shell）</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    sed -e <span style=color:#e6db74>&#39;s/cros_efi/cros_efi cros_debug/&#39;</span> -i /mnt/efi/boot/grub.cfg
</span></span></code></pre></div><h2 id=4-大功告成>4. 大功告成<a hidden class=anchor aria-hidden=true href=#4-大功告成>#</a></h2><p>这时候便可以重启并拔掉U盘，如无意外，就可以享用你的Chrome OS啦！ 如果出现<code>Your system is repairing itself. Please wait</code>字样也不用慌张，稍等五分钟它会自动重启，这下就同样可以享用你的Chrome OS啦。</p><h2 id=5其他方案>5.其他方案<a hidden class=anchor aria-hidden=true href=#5其他方案>#</a></h2><p>如果这篇教程无法很好地适用于你的电脑，你可以试试外国网友的<a href=https://github.com/imperador/chromefy>Project Croissant</a>。</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://picozai.tk/tags/chrome-os/>Chrome OS</a></li><li><a href=http://picozai.tk/tags/pc/>PC</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://picozai.tk>枳林</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="复制";function s(){t.innerText="已复制！",setTimeout(()=>{t.innerText="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>